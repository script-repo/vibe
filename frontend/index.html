<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Win Notes - Project Sophia</title>
    <meta name="description" content="Explore detailed win notes for Project Sophia.">
    <meta name="keywords" content="win notes, project sophia, nutanix, nci, ncm, ndb, nkp, files, objects">
    <meta name="author" content="Nutanix Inc.">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- Header -->
    <button id="chat-with-wins" class="chat-with-wins-btn">Chat with Wins</button>
    <header class="header" role="banner">
        <div class="container">
            <div class="header__content">
                <h1 class="header__title">Win Notes</h1>
                <p class="header__subtitle">Project Sophia</p>
            </div>
            <button id="settingsBtn" class="settings-btn">Settings</button>
        </div>
    </header>
    
    <!-- Main Content -->
    <main class="main" role="main">
        <div class="container">
            <!-- Search Section -->
            <section class="search-section">
                <div class="search-container">
                    <div class="search-input-wrapper">
                        <input
                            type="text"
                            id="searchInput"
                            class="form-control search-input"
                            placeholder="Search across all win notes..."
                            aria-label="Search win notes"
                        >
                        <div class="search-icon" aria-label="Search icon">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
                                <circle cx="11" cy="11" r="8"></circle>
                                <path d="m21 21-4.35-4.35"></path>
                            </svg>
                        </div>
                    </div>
                </div>
                
                <!-- Portfolio Filter Chips -->
                <div class="filter-chips">
                    <button class="chip chip--active" data-filter="all">All Notes</button>
                    <button class="chip" data-filter="nci">NCI</button>
                    <button class="chip" data-filter="ncm">NCM</button>
                    <button class="chip" data-filter="ndb">NDB</button>
                    <button class="chip" data-filter="nkp">NKP</button>
                    <button class="chip" data-filter="files">Files</button>
                    <button class="chip" data-filter="objects">Objects</button>
                </div>
            </section>
            
            <!-- Results Count -->
            <section class="results-info">
                <p id="resultsCount" class="results-count">75 win notes found</p>
            </section>
            
            <!-- Results Section -->
            <section class="results-section">
                <div id="resultsGrid" class="results-grid">
                    <!-- Cards will be dynamically generated here -->
                </div>
                <div id="emptyState" class="empty-state hidden">
                    <div class="empty-state__content">
                        <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                            <circle cx="11" cy="11" r="8"></circle>
                            <path d="m21 21-4.35-4.35"></path>
                        </svg>
                        <h3>No matches found</h3>
                        <p>Try adjusting your search terms or filters</p>
                    </div>
                </div>
            </section>
        </div>
    </main>

    <!-- Remove duplicate main section -->
    <!-- Settings Modal -->
    <div id="settingsModal" class="modal hidden" role="dialog" aria-labelledby="settingsModalTitle" aria-modal="true" aria-hidden="true">
        <div class="modal__backdrop"></div>
        <div class="modal__content">
            <div class="modal__header">
                <h2 id="settingsModalTitle" class="modal__title">Settings</h2>
                <button id="settingsModalClose" class="modal__close" aria-label="Close settings modal dialog">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
                        <line x1="18" y1="6" x2="6" y2="18"></line>
                        <line x1="6" y1="6" x2="18" y2="18"></line>
                    </svg>
                </button>
            </div>
            <div class="modal__body" id="settingsModalBody">
                <form id="settingsForm">
                    <div class="form-group">
                        <label for="apiToken">OpenRouter API Token</label>
                        <input type="text" id="apiToken" name="apiToken" required>
                    </div>
                    <div class="form-group">
                        <label for="model">Model</label>
                        <select id="model" name="model" required></select>
                    </div>
                    <button type="submit" class="btn btn-primary">Save Settings</button>
                </form>
            </div>
        </div>
    </div>

    <!-- Chat Modal -->
    <div id="chatModal" class="modal hidden" role="dialog" aria-labelledby="chatModalTitle" aria-modal="true" aria-hidden="true">
        <div class="modal__backdrop"></div>
        <div class="modal__content">
            <div class="modal__header">
                <h2 id="chatModalTitle" class="modal__title">Chat with Wins</h2>
                <button id="chatModalClose" class="modal__close" aria-label="Close chat modal dialog">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
                        <line x1="18" y1="6" x2="6" y2="18"></line>
                        <line x1="6" y1="6" x2="18" y2="18"></line>
                    </svg>
                </button>
            </div>
            <div id="chatMessages" class="chat-messages"></div>
            <form id="chatForm" class="chat-form">
                <input type="text" id="chatInput" placeholder="Type your message..." required>
                <button type="submit" class="btn btn-primary">Send</button>
            </form>
        </div>
    </div>

    <!-- Modal -->
    <div id="modal" class="modal hidden" role="dialog" aria-labelledby="modalTitle" aria-modal="true" aria-hidden="true">
        <div class="modal__backdrop"></div>
        <div class="modal__content">
            <div class="modal__header">
                <h2 id="modalTitle" class="modal__title"></h2>
                <button id="modalClose" class="modal__close" aria-label="Close modal dialog">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
                        <line x1="18" y1="6" x2="6" y2="18"></line>
                        <line x1="6" y1="6" x2="18" y2="18"></line>
                    </svg>
                </button>
            </div>
            <div class="modal__body" id="modalBody">
                <!-- Modal content will be dynamically generated here -->
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="footer" role="contentinfo">
        <div class="container">
            <p>&copy; 2025 Nutanix Inc. All rights reserved.</p>
        </div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/dompurify@3.0.6/dist/purify.min.js"></script>
    <script src="app.js"></script>
</body>
</html>